{"id":"Focm","dependencies":[{"name":"/Users/rohancribbs/Code/js/mm-src-mangaplus/.babelrc","includedInParent":true,"mtime":1688842366056},{"name":"/Users/rohancribbs/Code/js/mm-src-mangaplus/package.json","includedInParent":true,"mtime":1690560976263},{"name":"core-js/features/url","loc":{"line":3,"column":7,"index":20},"parent":"/Users/rohancribbs/Code/js/mm-src-mangaplus/src/index.js","resolved":"/Users/rohancribbs/Code/js/mm-src-mangaplus/node_modules/core-js/features/url/index.js"},{"name":"fastest-levenshtein","loc":{"line":5,"column":29,"index":74},"parent":"/Users/rohancribbs/Code/js/mm-src-mangaplus/src/index.js","resolved":"/Users/rohancribbs/Code/js/mm-src-mangaplus/node_modules/fastest-levenshtein/esm/mod.js"}],"generated":{"js":"\"use strict\";function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(e)}function e(){e=function(){return r};var r={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a=\"function\"==typeof Symbol?Symbol:{},u=a.iterator||\"@@iterator\",c=a.asyncIterator||\"@@asyncIterator\",s=a.toStringTag||\"@@toStringTag\";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},\"\")}catch(O){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),u=new P(n||[]);return o(a,\"_invoke\",{value:j(t,r,u)}),a}function f(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(O){return{type:\"throw\",arg:O}}}r.wrap=h;var p={};function v(){}function d(){}function y(){}var g={};l(g,u,function(){return this});var m=Object.getPrototypeOf,w=m&&m(m(k([])));w&&w!==n&&i.call(w,u)&&(g=w);var b=y.prototype=v.prototype=Object.create(g);function x(t){[\"next\",\"throw\",\"return\"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function L(e,r){var n;o(this,\"_invoke\",{value:function(o,a){function u(){return new r(function(n,u){!function n(o,a,u,c){var s=f(e[o],e,a);if(\"throw\"!==s.type){var l=s.arg,h=l.value;return h&&\"object\"==t(h)&&i.call(h,\"__await\")?r.resolve(h.__await).then(function(t){n(\"next\",t,u,c)},function(t){n(\"throw\",t,u,c)}):r.resolve(h).then(function(t){l.value=t,u(l)},function(t){return n(\"throw\",t,u,c)})}c(s.arg)}(o,a,n,u)})}return n=n?n.then(u,u):u()}})}function j(t,e,r){var n=\"suspendedStart\";return function(i,o){if(\"executing\"===n)throw new Error(\"Generator is already running\");if(\"completed\"===n){if(\"throw\"===i)throw o;return U()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===p)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(\"suspendedStart\"===n)throw n=\"completed\",r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);n=\"executing\";var c=f(t,e,r);if(\"normal\"===c.type){if(n=r.done?\"completed\":\"suspendedYield\",c.arg===p)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(n=\"completed\",r.method=\"throw\",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,\"throw\"===r&&t.iterator.return&&(e.method=\"return\",e.arg=void 0,S(t,e),\"throw\"===e.method)||\"return\"!==r&&(e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),p;var i=f(n,t.iterator,e.arg);if(\"throw\"===i.type)return e.method=\"throw\",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,p):o:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var e=t[u];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:U}}function U(){return{value:void 0,done:!0}}return d.prototype=y,o(b,\"constructor\",{value:y,configurable:!0}),o(y,\"constructor\",{value:d,configurable:!0}),d.displayName=l(y,s,\"GeneratorFunction\"),r.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===d||\"GeneratorFunction\"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,\"GeneratorFunction\")),t.prototype=Object.create(b),t},r.awrap=function(t){return{__await:t}},x(L.prototype),l(L.prototype,c,function(){return this}),r.AsyncIterator=L,r.async=function(t,e,n,i,o){void 0===o&&(o=Promise);var a=new L(h(t,e,n,i),o);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},x(b),l(b,s,\"Generator\"),l(b,u,function(){return this}),l(b,\"toString\",function(){return\"[object Generator]\"}),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)\"t\"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type=\"throw\",a.arg=t,e.next=r,n&&(e.method=\"next\",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if(\"root\"===o.tryLoc)return r(\"end\");if(o.tryLoc<=this.prev){var u=i.call(o,\"catchLoc\"),c=i.call(o,\"finallyLoc\");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var o=n;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method=\"next\",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var i=n.arg;E(r)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},\"next\"===this.method&&(this.arg=void 0),p}},r}function r(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(n,i)}function n(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function u(t){r(a,i,o,u,c,\"next\",t)}function c(t){r(a,i,o,u,c,\"throw\",t)}u(void 0)})}}function i(t,e,r){return(e=u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function a(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function u(e){var r=c(e,\"string\");return\"symbol\"===t(r)?r:String(r)}function c(e,r){if(\"object\"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||\"default\");if(\"object\"!==t(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===r?String:Number)(e)}function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getChapter=_,exports.listChapters=L,exports.searchManga=b,require(\"core-js/features/url\");var l=require(\"fastest-levenshtein\"),h=l.distance,f=a(function t(e){var r=e.number,n=e.identifier,i=e.title,o=e.description,a=void 0===o?\"\":o,u=e.group,c=void 0===u?null:u,l=e.variant,h=void 0===l?null:l,f=e.created,p=void 0===f?null:f,v=e.updated,d=void 0===v?null:v,y=e.published,g=void 0===y?null:y;s(this,t),this.number=r,this.identifier=n,this.title=i,this.description=a,this.group=c,this.variant=h,this.created=p,this.updated=d,this.published=g}),p=a(function t(e){var r=e.chapters;s(this,t),this.chapters=r}),v=a(function t(e){var r=e.highUrl,n=e.lowUrl,o=void 0===n?null:n,a=e.highHandler,u=void 0===a?null:a,c=e.lowHandler,l=void 0===c?null:c;s(this,t),i(this,\"version\",\"1.0.0\"),this.highUrl=r,this.lowUrl=o,this.highHandler=u,this.lowHandler=l}),d=a(function t(e){var r=e.pages;s(this,t),i(this,\"version\",\"2.0.0\"),this.pages=r}),y=a(function t(e){var r=e.name,n=e.identifier,i=e.coverUrl,o=void 0===i?null:i,a=e.ranking,u=void 0===a?-1:a;s(this,t),this.name=r,this.identifier=n,this.coverUrl=o,this.ranking=u}),g=a(function t(e){var r=e.results,n=void 0===r?[]:r;s(this,t),i(this,\"results\",[]),this.results=n}),m=\"https://jumpg-webapi.tokyo-cdn.com/api\";function w(t,e){return e.map(function(e){return[h(t,e.name),e]}).sort(function(t,e){return t[0]-e[0]}).slice(0,3).map(function(t,e){var r=t[1];return r.ranking=e,r})}function b(t){return x.apply(this,arguments)}function x(){return(x=n(e().mark(function t(r){var n,i,o,a,u,c;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URL(\"\".concat(m,\"/title_list/allV2\")),i=new URLSearchParams({format:\"json\"}),n.search=i.toString(),t.next=5,fetch(n);case 5:return o=t.sent,t.next=8,o.json();case 8:return a=t.sent,u=a.success.allTitlesViewV2.AllTitlesGroup.map(function(t){var e=t.titles.find(function(t){return!t.language});return e?new y({identifier:e.titleId,name:t.theTitle,coverUrl:e.portraitImageUrl}):null}).filter(function(t){return t}),c=w(r,u),t.abrupt(\"return\",new g({results:c}));case 12:case\"end\":return t.stop()}},t)}))).apply(this,arguments)}function L(t){return j.apply(this,arguments)}function j(){return(j=n(e().mark(function t(r){var n,i,o,a,u,c,s,l;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URL(\"\".concat(m,\"/title_detailV2\")),i=new URLSearchParams({format:\"json\",title_id:r}),n.search=i.toString(),t.next=5,fetch(n);case 5:return o=t.sent,t.next=8,o.json();case 8:return a=t.sent,u=a.success.titleDetailView.chapterListGroup,c=u.flatMap(function(t){var e=[];return t.firstChapterList&&(e=e.concat(t.firstChapterList)),t.midChapterList&&(e=e.concat(t.midChapterList)),t.lastChapterList&&(e=e.concat(t.lastChapterList)),e}),s=c.map(function(t){var e=t.name.replace(\"#\",\"\"),r=new Date(1e3*t.startTimeStamp);return new f({identifier:t.chapterId,title:t.subTitle,number:e,created:r,updated:r,published:r})}),l=new p({chapters:s}),t.abrupt(\"return\",l);case 14:case\"end\":return t.stop()}},t)}))).apply(this,arguments)}function S(t,e){for(var r=t.length,n=[],i=0;i<e.length;i++){var o=e.charCodeAt(i),a=t.charCodeAt(i%r);n.push(String.fromCharCode(o^a))}return n.join(\"\")}function _(t){return E.apply(this,arguments)}function E(){return(E=n(e().mark(function t(r){var n,i,o,a,u,c,s,l,h,f,p,y;return e().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URL(\"\".concat(m,\"/manga_viewer\")),i=new URLSearchParams({format:\"json\",split:\"yes\",chapter_id:r,img_quality:\"high\"}),n.search=i.toString(),t.next=5,fetch(n);case 5:return o=t.sent,t.next=8,o.json();case 8:return a=t.sent,u=a.success.mangaViewer.pages,i=new URLSearchParams({format:\"json\",split:\"yes\",chapter_id:r,img_quality:\"low\"}),n.search=i.toString(),t.next=14,fetch(n);case 14:return o=t.sent,t.next=17,o.json();case 17:a=t.sent,c=a.success.mangaViewer.pages,s=[],l=0;case 21:if(!(l<u.length)){t.next=30;break}if(h=u[l].mangaPage,f=c[l].mangaPage,h&&f){t.next=26;break}return t.abrupt(\"continue\",27);case 26:s.push({high:h,low:f});case 27:l++,t.next=21;break;case 30:return p=s.map(function(t){var e=t.low,r=t.high,n=r.imageUrl,i=e.imageUrl;return new v({highUrl:n,lowUrl:i,highHandler:function(t){return S(r.encryptionKey,t)},lowHandler:function(t){return S(e.encryptionKey,t)}})}),y=new d({pages:p}),t.abrupt(\"return\",y);case 33:case\"end\":return t.stop()}},t)}))).apply(this,arguments)}"},"sourceMaps":null,"error":null,"hash":"33381631725b187460876c15234011a8","cacheData":{"env":{}}}